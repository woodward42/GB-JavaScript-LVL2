(()=>{var t,e,r,s,n={350:(t,e,r)=>{var s=r(235),n=r(747),i=r(470);t.exports=function(t,e,r,u){n.readFile(u,(function(o,d){if(o)e.send({result:0,text:o});else{var a=s[r](JSON.parse(d),t);n.writeFile(u,a,(function(t){t&&e.send({result:0,text:t})})),n.readFile("dist/server/db/stats.json",(function(e,s){var u=Object.assign({},{action_type:r},{product_title:t.body.product_title},{datetime:i().format("LLLL")}),o=JSON.parse(s);o.push(u),n.writeFile("dist/server/db/stats.json",JSON.stringify(o,null,4),(function(t){return console.log(t)}))})),e.send({result:1})}}))}},235:t=>{t.exports={add:function(t,e){return t.push(e.body),JSON.stringify(t,null,4)},change:function(t,e){return t.find((function(t){return t.product_id===e.params.id})).quantity+=e.body.quantity,JSON.stringify(t,null,4)},del:function(t,e){var r=t.find((function(t){return t.product_id===e.params.id}));return t.splice(t.indexOf(r),1),JSON.stringify(t,null,4)}}},508:(t,e,r)=>{var s=r(127),n=r(350),i=r(747),u=s.Router();u.get("/",(function(t,e){i.readFile("dist/server/db/userCart.json",(function(t,r){t?e.send({result:0,text:t}):e.send(r)}))})),u.post("/",(function(t,e){n(t,e,"add","dist/server/db/userCart.json")})),u.put("/:id",(function(t,e){n(t,e,"change","dist/server/db/userCart.json")})),u.delete("/:id",(function(t,e){n(t,e,"del","dist/server/db/userCart.json")})),t.exports=u},127:t=>{"use strict";t.exports=require("express")},747:t=>{"use strict";t.exports=require("fs")},470:t=>{"use strict";t.exports=require("moment")}},i={};function u(t){if(i[t])return i[t].exports;var e=i[t]={exports:{}};return n[t](e,e.exports,u),e.exports}t=u(127),e=t(),r=u(747),s=u(508),u(470),e.use(t.json()),e.use("/",t.static("dist/public")),e.use("/api/cart",s),e.get("/api/products",(function(t,e){r.readFile("dist/server/db/products.json",(function(t,r){t?e.send({result:0,text:t}):e.send(r)}))})),e.listen(3e3,(function(){return console.log("Server started at port 3000...")}))})();